(this["webpackJsonpit-kamasutra"]=this["webpackJsonpit-kamasutra"]||[]).push([[6],{391:function(e,t,c){"use strict";c.r(t);var n=c(380),r=c(0),s=c(124),i=c(388),j=c(34),u=c(15),a=c(193),o=c(1),b=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.chat.status}));return Object(r.useEffect)((function(){return e(Object(a.c)()),function(){e(Object(a.d)())}}),[e]),Object(o.jsxs)("div",{children:["error"===t&&Object(o.jsx)("div",{children:"\u0427\u0442\u043e-\u0442\u043e \u0441 \u0441\u043e\u043a\u0435\u0442\u043e\u043c \u043d\u0435 \u0442\u0430\u043a, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}),Object(o.jsx)(O,{}),Object(o.jsx)(l,{})]})},O=function(){var e=Object(r.useState)(!0),t=Object(n.a)(e,2),c=t[0],s=t[1],i=Object(u.d)((function(e){return e.chat.messages})),j=Object(r.useRef)(null);Object(r.useEffect)((function(){var e;c&&(null===(e=j.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[c,i]);return Object(o.jsxs)("div",{style:{height:"500px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;t.scrollHeight-t.scrollTop-50<=t.clientHeight?!c&&setTimeout((function(){return s(!0)}),500):c&&s(!1)},children:[i.map((function(e){return Object(o.jsx)(d,{message:e},e.id)})),Object(o.jsx)("div",{ref:j})]})},l=function(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),c=t[0],j=t[1],b=Object(u.d)((function(e){return e.chat.status})),O=Object(u.c)();return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)(i.a,{onChange:function(e){j(e.currentTarget.value)},value:c})}),Object(o.jsx)("div",{children:Object(o.jsx)(s.a,{disabled:"ready"!==b,onClick:function(){c&&(O(Object(a.b)(c)),j(""))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})},d=Object(r.memo)((function(e){var t=e.message;return Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{src:t.photo,style:{width:"40px"},alt:"ava"}),Object(o.jsxs)(j.b,{to:"/profile/".concat(t.userId),children:[t.userName," "]}),Object(o.jsx)("br",{}),t.message,Object(o.jsx)("hr",{})]})}));t.default=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(b,{})})}}}]);
//# sourceMappingURL=6.c6ac0dd2.chunk.js.map